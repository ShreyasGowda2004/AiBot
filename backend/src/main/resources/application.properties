# Server Configuration
server.port=8080
server.servlet.context-path=/api

# Async Request Timeout (5 minutes)
spring.mvc.async.request-timeout=300000

# Application Configuration
spring.application.name=ai-chatbot-backend

# Ollama Configuration
spring.ai.ollama.base-url=http://localhost:11434
spring.ai.ollama.chat.model=granite4:tiny-h
spring.ai.ollama.embedding.model=granite4:tiny-h

# Proxy allowed hosts (comma separated). Only these hosts can be called through /api/proxy
# Use * to allow all hosts.
proxy.allowed.hosts=*

# CORS Configuration
cors.allowed-origins=http://localhost:3000,http://127.0.0.1:3000,http://localhost:5173
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS,PATCH,HEAD
cors.allowed-headers=*
cors.allow-credentials=true

# GitHub Repository Configuration
repo.github.baseurl=https://github.ibm.com/api/v3
repo.github.repositories[0].owner=maximo-application-suite
repo.github.repositories[0].name=knowledge-center
repo.github.repositories[0].branch=main
repo.github.repositories[1].owner=maximo-application-suite
repo.github.repositories[1].name=mas-suite-install
repo.github.repositories[1].branch=main
repo.github.repositories[2].owner=maximo-application-suite
repo.github.repositories[2].name=MaxRenewAutomate
repo.github.repositories[2].branch=main
repo.github.repositories[3].owner=maximo-application-suite
repo.github.repositories[3].name=mas-manage-install
repo.github.repositories[3].branch=main
repo.github.token=${GITHUB_TOKEN:your_github_token_here}

## Vector Database not used; using file-based embeddings

## No MongoDB. Ensure auto-config doesn't try to load Mongo (not needed once deps removed)
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration,org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration

# Cache Configuration (Simple cache instead of Redis)
spring.cache.type=simple

# Logging Configuration
logging.level.com.aichatbot=INFO
logging.level.org.springframework.ai=DEBUG
## Remove Mongo debug logs
logging.level.root=WARN
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# Performance Settings
file.processing.chunk-size=2000
file.processing.batch-size=50
rate.limiting.requests-per-minute=60

## CORS unified above

# Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always

# Threading Configuration
spring.task.execution.pool.core-size=10
spring.task.execution.pool.max-size=50
spring.task.execution.pool.queue-capacity=1000

# RAG Settings
# Delete all existing embeddings on startup before (re)indexing
rag.cleanOnStartup=true

# Embedding store configuration
# Options: file (default)
embedding.store=file
# Store embeddings inside the project (relative to working dir)
embedding.store.dir=data/embeddings
